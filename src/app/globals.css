@import "tailwindcss";

/* =================================
   統一カラーシステム
   ================================= */
:root {
  color-scheme: light only;
  
  /* ライトモード用カラーパレット */
  --bg-primary: #ffffff;
  --bg-secondary: #f8f9fa;
  --bg-tertiary: #f3f4f6;
  --text-primary: #1f2937;
  --text-secondary: #6b7280;
  --text-tertiary: #9ca3af;
  --border-primary: #e5e7eb;
  --border-secondary: #d1d5db;
  --logo-filter: none;
}

/* ダークモード用カラーパレット */
html.dark {
  color-scheme: dark;
  
  --bg-primary: #0a0a0a;
  --bg-secondary: #1a1a1a;
  --bg-tertiary: #2a2a2a;
  --text-primary: #ffffff;
  --text-secondary: #ffffff;
  --text-tertiary: #ffffff;
  --border-primary: #333333;
  --border-secondary: #444444;
  --logo-filter: brightness(0) invert(1);
}

/* =================================
   ベーススタイル
   ================================= */
html, body {
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

html {
  background-color: #ffffff !important;
  color-scheme: light only;
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  font-family: Arial, Helvetica, sans-serif;
}

/* =================================
   フォーム要素
   ================================= */
input[type="text"], 
input[type="email"], 
input[type="password"], 
input[type="search"], 
input[type="number"], 
textarea, 
select {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-primary) !important;
  color-scheme: light only;
}

/* スクロールバーの色もライトモード固定 */
::-webkit-scrollbar {
  background-color: #f1f1f1 !important;
}
::-webkit-scrollbar-thumb {
  background-color: #c1c1c1 !important;
}
::-webkit-scrollbar-thumb:hover {
  background-color: #a8a8a8 !important;
}

/* =================================
   Tailwindクラス上書き
   ================================= */
/* 全Tailwindクラスを CSS変数対応 */
html .bg-white { background-color: var(--bg-primary); }
html .bg-gray-50 { background-color: var(--bg-secondary); }
html .bg-gray-100 { background-color: var(--bg-tertiary); }
html .bg-gray-200 { background-color: var(--bg-tertiary); }
html .bg-gray-800 { background-color: var(--bg-secondary); }
html .bg-gray-900 { background-color: var(--bg-primary); }

/* グラデーション背景ボタンは除外してtext-whiteを変更 */
html .text-white:not([class*="bg-gradient"]):not([class*="from-purple"]) { 
  color: var(--text-primary); 
}
html .text-gray-900 { color: var(--text-primary); }
html .text-gray-800 { color: var(--text-primary); }
html .text-gray-700 { color: var(--text-primary); }
html .text-gray-600 { color: var(--text-secondary); }
html .text-gray-500 { color: var(--text-secondary); }
html .text-gray-400 { color: var(--text-tertiary); }

html .border-gray-200 { border-color: var(--border-primary); }
html .border-gray-300 { border-color: var(--border-primary); }

/* ブラウザ自動ダークモード対策 - ユーザーアイコンメニューのみに限定 */
:root .absolute.right-0.top-full.w-64 button,
:root .absolute.right-0.top-full.w-64 a {
  background-color: transparent !important;
  color: #374151 !important;
}

:root .absolute.right-0.top-full.w-64 button:hover,
:root .absolute.right-0.top-full.w-64 a:hover {
  background-color: #f9fafb !important;
  color: #1f2937 !important;
}

/* ダークモード時のユーザーアイコンメニュー */
html.dark .absolute.right-0.top-full.w-64 button,
html.dark .absolute.right-0.top-full.w-64 a {
  background-color: transparent !important;
  color: var(--text-primary) !important;
}

html.dark .absolute.right-0.top-full.w-64 button:hover,
html.dark .absolute.right-0.top-full.w-64 a:hover {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

/* =================================
   コンポーネント
   ================================= */
@layer components {
  .logo-light { display: block; }
  .logo-dark { display: none; }
  
  .category-tag-brand {
    background: linear-gradient(135deg, #8b5cf6, #3b82f6);
    color: #ffffff;
    border: none;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
    transition: all 0.3s ease;
  }
  
  .category-tag-brand:hover {
    background: linear-gradient(135deg, #7c3aed, #2563eb);
    transform: scale(1.02);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
  }
}

/* =================================
   ユーティリティ
   ================================= */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.line-clamp-1, .line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
}

/* =================================
   アニメーション
   ================================= */
@keyframes blob {
  0% { transform: translate(0px, 0px) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0px, 0px) scale(1); }
}

.animate-blob { animation: blob 7s infinite; }
.animation-delay-2000 { animation-delay: 2s; }
.animation-delay-4000 { animation-delay: 4s; }

/* =================================
   ローディングバー
   ================================= */
#nprogress { pointer-events: none; }
#nprogress .bar {
  background: linear-gradient(90deg, #8b5cf6, #3b82f6);
  position: fixed;
  z-index: 9999;
  top: 0;
  left: 0;
  width: 100%;
  height: 3px;
  border-radius: 0 0 2px 2px;
  box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
}
#nprogress .peg {
  display: block;
  position: absolute;
  right: 0px;
  width: 100px;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4));
  transform: rotate(3deg) translate(0px, -4px);
}

/* =================================
   詳細度を使った上書き - より自然な方法
   ================================= */
html:root {
  background-color: var(--bg-primary);
}